<!doctype>
<html ng-app = "mainApp">

   <head>
      <title>Angular JS Services</title>
      <link rel="stylesheet" href="bootstrap.min.css" >
      <script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

   <style type="text/css">
      select{width: 100%;}
   </style>
   </head>
   
   <body ng-controller = "country" class="container">
      <h2>AngularJS Sample Application</h2>

   <!-- <form name="myForm" novalidate>    -->
      <div class="col-sm-2">
         <select ng-model="countryid">
            <option value="">Select Country</option>
            <option value="India">India</option>
            <option value="US">US</option>
         </select>
         <!-- <button type="submit" ng-click="checkStatus()">Find</button> -->
      </div>
      <div class="col-sm-2">
         <select ng-model="statesid">
            <option value="">Select State</option>
            <option ng-repeat = "state in states" value="{{state.name}}">{{state.name}}</option>
         </select>
      </div>
      <div class="col-sm-2">
         <select ng-model="cityid">
            <option value="">Select City</option>
            <option ng-repeat = "city in cities" value="{{city.name}}">{{city.name}}</option>
         </select>
      </div>
   <!-- </form> -->


<script>

   angular.module("mainApp", [])
   
   .controller("country",['$scope', function($scope){

      $scope.countryid = "";
      $scope.stateid = "";
      $scope.cityid = "";
      //$scope.states = {};

      $scope.indianStates = [
          {name: 'Delhi'},
          {name: 'UP'},
          {name: 'Punjab'}
      ];
      $scope.usStates = [
          {name: 'New York'},
          {name: 'Los Angles'},
          {name: 'San Diago'}
      ];
      

      //$scope.statesid = $scope.stateList;

      function checkStatus() {

         var result = $scope.countryid
         console.log(result);
         if (result =='India') {
            $scope.states = $scope.indianStates;
            console.log($scope.states);
         }else{
            $scope.states = $scope.usStates;
            console.log($scope.states);
         };

      }

      $scope.$watch('countryid', function() { 
         checkStatus();
      });


   }]);

</script>
      
</body>
</html>